# Study Board


### Задача:
Сделать систему авторизации которая позволит авторизироваться пользователю по email и паролю, любо с помощью Google OAuth или Facebook OAuth.
В системе должен быть заложен базовый пользователь администратор (email заложить в .env файл), с помошью консольной команды администратору должно быть отправлено приглашение.
Остальные пользователи приглашаются в систему администратором через почту. При переходе по ссылке с почты они должны ввести новый пароль, в дальнейшем они смогут привязать аккаунт OAuth.
Данные о состоянии авторизации пользователя должны хранится в JWT токене и передаваться на сервер в хедере X-Authorization. В браузере этот токен хранится в locastorage.


Весь проэкт разворачиваем в контейнерах. 
Для сервера используем стандартный http нода, без express. 
Для фронта HTML, CSS, JS без библиотек (даже без jQuery).
В плане кроссбраузерности требуется поддержка последней версии chrome.
Серверную часть разбиваем на модули CommonJS, фронт пока можно без модулей.
От фронт части требуется минимальная функциональность, она будет переведена в последствии на React.


### План выполнения:
Создать конфиг и файл запуска (Makefile или sh) для запуска двух контейнеров node:14, mongodb, контейнер node должен быть связан с контейнером быза с помощью --link.
Создать node сервер который будет отдавать статические файлы и обработавыть запросы к api.


### Точки входа сервера:
/* - на все запросы без префикса /api/ должен отдаваться или файл с директории /front/ или /front/index.html
API
/api/login - авторизация пользователя
/api/invite - приглашение нового пользователя (доступно только администратору)
/api/complete-invitation - сохранение данных нового пользователя
/api/forgot-password - запрос сброса пароля
/api/complete-recover - сохранение нового пароля


### Страницы фронт части:
HTML
/ - домашняя страница (доступна только при успешной авторизации)
/login - страница
/complete-invitation - страница принатия приглашения
/complete-recover - страница завершения сброса пароля
/oauth-redirect - страница редиректа для OAuth сервисов


### MongoDB 
колекция Users
{_id, email, password}
колекция OAuth
{_id, user_id, type, oauthId}
колекция Invitations
{uuid, user_id, expiredAt}
колекция Recover
{uuid, user_id, expiredAt}

